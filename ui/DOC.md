# Общие сведения
Фронтенд разрабатывался на фреймворке React.js. Для отрисовки карт применяется Leaflet.
# Страницы
## Home.jsx
Во время загрузки отправляет запрос базе данных, который проверяет, существует ли граф или нет. Если существует, то перенаправляет на ```App.jsx``` . Иначе отрисовывает главную страницу приложения с формой `chooseForm.jsx`.  
## App.jsx
Во время загрузки страницы отправляет запрос либо на построение графа, либо на получение существующего в зависимости от того, существует ли граф в БД или нет. Проверяется это путём проверки переменной, которая может принимать значения: ```City, Rectangle, Polygon, Exists``` . В зависимости от значения переменной отправляет запрос.
После запроса получает трамвайные и автобусные узлы и рёбра, а также центр карты. Эти данные отправляет компоненте ```cityMap.jsx```.

# Вспомогательные компоненты
## Формы
### chooseForm.jsx
Отрисовывает форму в зависимости от выбранного типа формы. 
Типы формы и компоненты, соответствующие им:
- Bbox - ```rectangleForm.jsx```
- City - ```cityForm.jsx```
- Polygon - ```polygonForm.jsx```
### rectangleForm.jsx
Отрисовывает форму типа `Bbox`. Получает от пользователя данные ```north, south, west, east```. Отправляет их `App.jsx`.   
### polygonForm.jsx
Отрисовывает форму типа `Polygon`. Получает от пользователя строку с вершинами многоугольника. Принимается строка вида `(x,y) ... (x,y)`. Выполняет проверку, соответствует ли строка заданному шаблону. Передаёт массив координат `App.jsx`.
### cityForm.jsx
Отрисовывает форму типа `Bbox`. Получает от пользователя название города и отправляет его `App.jsx`.
## Карта
### CityMap.jsx
Отрисовывает карту и кнопки к ней. Получает от страницы `App.jsx` узлы и рёбра, которые необходимо отрисовать. Красными цветами отрисовываются узлы и рёбра трамвайного графа, синими цветами отрисовываются узлы и рёбра автобусного графа. Позволяет получить `json` файл с отрисованными узлами и рёбрами следующего вида:
```
{"tram":{"edges": [...], "nodes": [...]}, "bus": {"edges": [...], "nodes": [...]}}
```
Поддерживает задание полигона пользователем - при нажатии пользователя на карту в добавляется вершина полигона, который отрисовывается на карте. Полученный полигон может быть использован далее.
## Иные инструменты
### Router.jsx
Файл, необходимый для роутинга. Фактически, на текущий момент существует два рута:
- `locahost:3000`
- `locahost:3000/App`
### city.service.jsx
Файл, в котором настроено, куда отправляются запросы. 